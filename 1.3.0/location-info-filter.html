<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Apache Log4cxx: LocationInfoFilter</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
<!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://analytics.apache.org/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '42']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Apache Log4cxx
   &#160;<span id="projectnumber">Version 1.3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('location-info-filter.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">LocationInfoFilter </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_src_site_markdown_filters_LocationInfoFilter"></a></p>
<p>The LocationInfoFilter allows filtering against the location in the file that the log statement was made. Location information must not be disabled in order for this filter to be effective. Location information is disabled with the <code>LOG4CXX_DISABLE_LOCATION_INFO</code> macro.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft"><b>Parameter Name</b>   </th><th class="markdownTableHeadLeft"><b>Type</b>   </th><th class="markdownTableHeadLeft"><b>Description</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Operator   </td><td class="markdownTableBodyLeft">LogString   </td><td class="markdownTableBodyLeft">If the operator is <code>AND</code> then all the parts of the location(line number and method name) must match. If set to <code>OR</code> then only one needs to match. The default value is <code>OR</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">AcceptOnMatch   </td><td class="markdownTableBodyLeft">bool   </td><td class="markdownTableBodyLeft">If <code>true</code>, accept the message when it matches the parameters. If <code>false</code>, deny the message when it matches the parameters.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">LineNumber   </td><td class="markdownTableBodyLeft">int   </td><td class="markdownTableBodyLeft">The line number to match on. The default line number is -1.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Method   </td><td class="markdownTableBodyLeft">LogString   </td><td class="markdownTableBodyLeft">The method to match on. The method name may be compiler-specific. On GCC, the method name will look like <code>Class::methodName</code>   </td></tr>
</table>
<p>Assume that our code looks something like the following:</p>
<div class="fragment"><div class="line"><a class="code hl_define" href="group__LoggingMacros.html#ga806900dd7eafb458d0472d9c8f84594b">LOG4CXX_TRACE</a>(logger, <span class="stringliteral">&quot;About to do something!&quot;</span>);</div>
<div class="line"><span class="keywordflow">for</span>( <span class="keywordtype">int</span> x = 0; x &lt; 100; x++ ){</div>
<div class="line">    <a class="code hl_define" href="group__LoggingMacros.html#ga806900dd7eafb458d0472d9c8f84594b">LOG4CXX_TRACE</a>(logger, <span class="stringliteral">&quot;Do something number &quot;</span> &lt;&lt; x);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__LoggingMacros_html_ga806900dd7eafb458d0472d9c8f84594b"><div class="ttname"><a href="group__LoggingMacros.html#ga806900dd7eafb458d0472d9c8f84594b">LOG4CXX_TRACE</a></div><div class="ttdeci">#define LOG4CXX_TRACE(logger, message)</div><div class="ttdoc">Add a new logging event containing message to attached appender(s) if logger is enabled for TRACE eve...</div><div class="ttdef"><b>Definition:</b> log4cxx/logger.h:2196</div></div>
</div><!-- fragment --><p>For various reasons, we may want to know that we are about to do something, but we don't want to know each iteration of the loop. In order to filter out this one message we can create a LocationInfoFilter in order to specifiy the line number that this message is on in order to filter it out:</p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;</div>
<div class="line">&lt;<span class="keywordtype">log4j:configuration</span> <span class="keyword">xmlns:log4j</span>=<span class="stringliteral">&quot;http://logging.apache.org/&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">appender</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;SIMPLE&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;ConsoleAppender&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">param</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Target&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;System.err&quot;</span>/&gt;</div>
<div class="line">    </div>
<div class="line">        &lt;<span class="keywordtype">layout</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;org.apache.log4j.PatternLayout&quot;</span>&gt;</div>
<div class="line">            &lt;<span class="keywordtype">param</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;ConversionPattern&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;%p - %m%n&quot;</span>/&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">layout</span>&gt;</div>
<div class="line"> </div>
<div class="line">        &lt;<span class="keywordtype">filter</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;LocationInfoFilter&quot;</span>&gt;</div>
<div class="line">            &lt;<span class="keywordtype">param</span>  <span class="keyword">name</span>=<span class="stringliteral">&quot;LineNumber&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;182&quot;</span> /&gt;</div>
<div class="line">            &lt;<span class="keywordtype">param</span>  <span class="keyword">name</span>=<span class="stringliteral">&quot;Operator&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;OR&quot;</span> /&gt;</div>
<div class="line">            &lt;<span class="keywordtype">param</span>  <span class="keyword">name</span>=<span class="stringliteral">&quot;AcceptOnMatch&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;false&quot;</span> /&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">filter</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">appender</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">root</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">priority</span>       <span class="keyword">value</span>=<span class="stringliteral">&quot;all&quot;</span>     /&gt;</div>
<div class="line">        &lt;<span class="keywordtype">appender-ref</span>   <span class="keyword">ref</span>=<span class="stringliteral">&quot;SIMPLE&quot;</span>    /&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">root</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">log4j:configuration</span>&gt;</div>
</div><!-- fragment --><p>Doing this allows us to still see the "About to do something!" message, but ignore each iteration of the loop. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="usage-overview.html">Use</a></li><li class="navelem"><a class="el" href="filters.html">Filtering Log Messages</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="https://www.doxygen.nl/images/doxygen.png" alt="Doxygen"/></a> 1.9.6 on Wed May 8 2024 </li>
    <li class="center">
Copyright &copy; 2003-2023 <a href="https://www.apache.org/">Apache Software Foundation</a>. All Rights Reserved.  <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy Policy</a><br/>
Apache Logging, Apache Log4j, Log4j, Apache, the Apache feather logo, and the Apache Logging project logo are trademarks of The Apache Software Foundation.<br/>
    </li>
  </ul>
</div>
</body>
</html>
